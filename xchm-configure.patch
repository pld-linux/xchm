diff -Nur xchm-0.6.1.org/configure.in xchm-0.6.1/configure.in
--- xchm-0.6.1.org/configure.in	2003-08-09 15:44:29.000000000 +0000
+++ xchm-0.6.1/configure.in	2003-08-10 12:49:30.000000000 +0000
@@ -2,18 +2,23 @@
 AC_INIT(src/chmfile.cpp)
 AM_CONFIG_HEADER(config.h)
 
-CXXFLAGS="-W -Wall" 
+CXXFLAGS="$CXXFLAGS -W -Wall"
+
+AC_CHECK_PROG(WXCFG, wx-config, wx-config, no)
+if test "x$WXCFG" == "xno"; then
+    AC_MSG_ERROR([wx-config not found in PATH. Do you have wxWindows installed?])
+fi
+AC_SUBST(WXCFG)
 
 AC_ARG_ENABLE(static, 
 	      [  --enable-static         link statically to wxWindows.], 
-	      LINKOPT="`wx-config --static --libs`",
-	      LINKOPT="`wx-config --libs`")
+	      LINKOPT="`$WXCFG --static --libs`",
+	      LINKOPT="`$WXCFG --libs`")
 AC_SUBST(LINKOPT)
 
 AC_ARG_ENABLE(debug,
 	      [  --enable-debug          compile with gdb debug information.], 
-	      CXXFLAGS="$CXXFLAGS -g",
-	      CXXFLAGS="$CXXFLAGS -O2")
+	      CXXFLAGS="$CXXFLAGS -g")
 
 AM_INIT_AUTOMAKE(xchm, 0.6.1)
 AC_PROG_CXX
@@ -25,11 +30,5 @@
     AC_MSG_ERROR([Can't find/use -lchm. Please install CHMLIB first.])
 )
 
-AC_CHECK_PROG(WXCFG, wx-config, wx-config, no)
-if test "x$WXCFG" == "xno"; then
-    AC_MSG_ERROR([wx-config not found in PATH. Do you have wxWindows installed?])
-fi
-
-
 AC_OUTPUT(Makefile src/Makefile)
 
diff -Nur xchm-0.6.1.org/src/Makefile.am xchm-0.6.1/src/Makefile.am
--- xchm-0.6.1.org/src/Makefile.am	2003-08-06 00:01:53.000000000 +0000
+++ xchm-0.6.1/src/Makefile.am	2003-08-10 12:50:21.000000000 +0000
@@ -1,4 +1,4 @@
-INCLUDES = -I$(top_srcdir)/art `wx-config --cppflags`
+INCLUDES = -I$(top_srcdir)/art `$(WXCFG) --cppflags`
 
 bin_PROGRAMS = xchm
 xchm_SOURCES = chmapp.cpp chmfile.cpp chmframe.cpp chmfshandler.cpp \
